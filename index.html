<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IRCTC Payment</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    * { font-family: 'Inter', sans-serif; }
    .floating-input { position: relative; margin-top: 20px; }
    .floating-input input, .floating-input select { 
      width: 100%; padding: 16px; border: 1.5px solid #e2e8f0; border-radius: 8px; 
      background: white; font-size: 16px; outline: none; transition: all 0.3s ease; 
    }.floating-input select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-position: right 16px center; background-repeat: no-repeat; background-size: 16px; }.floating-input label { 
      position: absolute; top: 16px; left: 16px; font-size: 16px; color: #6b7280; 
      pointer-events: none; transition: all 0.3s ease; background: white; padding: 0 4px; 
    } .floating-input input:focus, .floating-input select:focus { border-color: #7c3aed; box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1); }.floating-input input:focus + label, .floating-input input:not(:placeholder-shown) + label, .floating-input select:focus + label, .floating-input select:not([value=""]) + label { 
      top: -8px; font-size: 12px; color: #7c3aed; font-weight: 500; 
    }.floating-input.filled label { top: -8px; font-size: 12px; color: #7c3aed; font-weight: 500; }
    .glass-card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 16px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
    .gradient-btn { background: linear-gradient(135deg, #7c3aed, #6d28d9); border-radius: 10px; font-weight: 500; transition: all 0.3s ease; border: none; }
    .gradient-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgba(124, 58, 237, 0.3); }
    .gradient-btn:active { transform: translateY(0); }
    .fade-in { animation: fadeIn 0.4s ease; }
    .slide-up { animation: slideUp 0.4s ease; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .success-animation { width: 80px; height: 80px; margin: 0 auto; position: relative; }
    .success-animation .checkmark { width: 80px; height: 80px; border-radius: 50%; display: block; stroke-width: 3; stroke: #10b981; stroke-miterlimit: 10; box-shadow: inset 0 0 0 #10b981; animation: fill 0.4s ease-in-out 0.4s forwards, scale 0.3s ease-in-out 0.9s both; }
    .success-animation .checkmark__circle { stroke-dasharray: 166; stroke-dashoffset: 166; stroke-width: 3; stroke-miterlimit: 10; stroke: #10b981; fill: none; animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards; }
    .success-animation .checkmark__check { transform-origin: 50% 50%; stroke-dasharray: 48; stroke-dashoffset: 48; animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards; }
    @keyframes stroke { 100% { stroke-dashoffset: 0; } }
    @keyframes scale { 0%, 100% { transform: none; } 50% { transform: scale3d(1.1, 1.1, 1); } }
    @keyframes fill { 100% { box-shadow: inset 0 0 0 30px #10b981; } }
  </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-indigo-100 min-h-screen flex items-center justify-center p-4">
<div class="w-full max-w-md space-y-6">
  <div class="text-center mb-8">
    <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl">
      <svg class="w-10 h-10 text-white" viewBox="0 0 24 24" fill="none">
        <path d="M17 5H7C4 5 2 7 2 10V15C2 18 4 20 7 20H17C20 20 22 18 22 15V10C22 7 20 5 17 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12 16C13.1046 16 14 15.1046 14 14C14 12.8954 13.1046 12 12 12C10.8954 12 10 12.8954 10 14C10 15.1046 10.8954 16 12 16Z" stroke="currentColor" stroke-width="2"/>
        <path d="M8.5 9.5H15.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <h1 class="text-3xl font-semibold text-gray-800">IRCTC Payment</h1>
    <p class="text-gray-600 mt-2">Fast & Secure Railway Payments</p>
  </div>
  <div id="pnrSection" class="glass-card p-8 fade-in">
    <h2 class="text-xl font-semibold text-gray-800 mb-6">Check Ticket Status</h2>
    <div class="space-y-6">
      <div class="floating-input">
        <input type="text" id="pnr" placeholder=" " maxlength="4">
        <label>PNR Number</label>
        <p class="text-xs text-gray-500 mt-2">Enter exactly 4 digits</p>
        <p id="pnrErr" class="text-sm text-red-500 mt-1"></p>
        <p id="infoMessage" class="text-sm mt-1 hidden"></p>
      </div>
      <button id="checkStatusBtn" class="gradient-btn w-full py-3.5 px-4 text-white font-semibold text-lg">Check Status</button>
    </div>
  </div>
  <div id="ticketDetails" class="glass-card p-8 hidden slide-up">
    <h2 class="text-xl font-semibold text-gray-800 mb-6">Ticket Details</h2>
    <div class="space-y-4 mb-6">
      <div class="flex justify-between items-center py-3 border-b border-gray-100"><span class="text-gray-600">Name</span><span id="pname" class="text-gray-800 font-semibold"></span></div>
      <div class="flex justify-between items-center py-3 border-b border-gray-100"><span class="text-gray-600">From</span><span id="from" class="text-gray-800 font-semibold"></span></div>
      <div class="flex justify-between items-center py-3 border-b border-gray-100"><span class="text-gray-600">To</span><span id="to" class="text-gray-800 font-semibold"></span></div>
      <div class="flex justify-between items-center py-3"><span class="text-gray-600">Status</span><span id="status" class="font-semibold"></span></div>
    </div>
    <button id="payBtn" class="gradient-btn w-full py-3.5 px-4 text-white font-semibold text-lg">Proceed to Pay</button>
  </div>
  <div id="paymentSection" class="glass-card p-8 hidden slide-up">
    <h2 class="text-xl font-semibold text-gray-800 mb-6">Payment Method</h2>
    <div class="space-y-6">
      <div class="floating-input">
        <select id="paymentMethod"><option value=""></option><option value="cash">Cash at Station</option><option value="upi">UPI</option><option value="card">Debit / Credit Card</option><option value="bank">Bank Transfer</option></select>
        <label>Select Payment Method</label>
        <p class="text-sm text-red-500 mt-1" id="methodErr"></p>
      </div>
      <div id="paymentFields" class="space-y-6"></div>
      <button id="makePayment" class="gradient-btn w-full py-3.5 px-4 text-white font-semibold text-lg hidden">Continue Payment</button>
    </div>
  </div>
  <div id="otpSection" class="glass-card p-8 hidden slide-up">
    <h2 class="text-xl font-semibold text-gray-800 mb-6">OTP Verification</h2>
    <div class="space-y-6">
      <div class="floating-input">
        <input type="text" id="otp" placeholder=" " maxlength="6">
        <label>Enter OTP</label>
        <p class="text-xs text-gray-500 mt-2 text-center">OTP sent to your registered number/email</p>
        <p id="otpErr" class="text-sm text-red-500 mt-1 text-center"></p>
      </div>
      <button id="verifyOtp" class="gradient-btn w-full py-3.5 px-4 text-white font-semibold text-lg">Verify OTP</button>
    </div>
  </div>
  <div id="successMessage" class="glass-card p-8 text-center hidden fade-in">
    <div class="success-animation mb-6">
      <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" width="52" height="52">
  <circle cx="26" cy="26" r="25" fill="none" stroke="#4CAF50" stroke-width="4"/>
  <path fill="none" stroke="#4CAF50" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
</svg>
 </div>
    <h3 class="text-2xl font-semibold text-gray-800 mb-3">Payment Successful!</h3>
    <p class="text-gray-600 mb-6">Your ticket has been confirmed</p>
    <button onclick="location.reload()" class="gradient-btn py-3 px-6 text-white font-semibold">Check Another Ticket</button>
  </div>
</div>
<script>
$(document).ready(function(){
  var tickets = {
    "1234": { name: "Ravi Kumar", from: "Chennai", to: "Delhi", status: "WAITING LIST" },"9876": { name: "Priya Sharma", from: "Mumbai", to: "Bangalore", status: "CONFIRMED" },"1122": { name: "Amit Singh", from: "Delhi", to: "Kolkata", status: "CANCELLED" },"3344": { name: "Sneha Patel", from: "Ahmedabad", to: "Mumbai", status: "CONFIRMED" },"5566": { name: "Vikram Rao", from: "Bangalore", to: "Chennai", status: "WAITING LIST" },"7788": { name: "Anjali Verma", from: "Hyderabad", to: "Pune", status: "CONFIRMED" },"9900": { name: "Rohan Mehta", from: "Kolkata", to: "Delhi", status: "WAITING LIST" },"2233": { name: "Kavita Joshi", from: "Pune", to: "Bangalore", status: "CONFIRMED" },"4455": { name: "Manish Gupta", from: "Chennai", to: "Hyderabad", status: "CANCELLED" },"6677": { name: "Priyanka Nair", from: "Mumbai", to: "Ahmedabad", status: "CONFIRMED" },"8899": { name: "Suresh Reddy", from: "Delhi", to: "Chennai", status: "WAITING LIST" },"1010": { name: "Tanya Kapoor", from: "Bangalore", to: "Mumbai", status: "CONFIRMED" },"1212": { name: "Ajay Kumar", from: "Hyderabad", to: "Delhi", status: "WAITING LIST" },"1414": { name: "Neha Sharma", from: "Ahmedabad", to: "Pune", status: "CONFIRMED" },"1616": { name: "Rahul Jain", from: "Kolkata", to: "Bangalore", status: "CANCELLED" },"1818": { name: "Sonal Aggarwal", from: "Mumbai", to: "Chennai", status: "WAITING LIST" },"2020": { name: "Vikash Singh", from: "Pune", to: "Hyderabad", status: "CONFIRMED" },"2121": { name: "Isha Patel", from: "Delhi", to: "Ahmedabad", status: "CONFIRMED" },"2323": { name: "Nitin Sharma", from: "Bangalore", to: "Kolkata", status: "WAITING LIST" },"2424": { name: "Ritika Verma", from: "Chennai", to: "Mumbai", status: "CONFIRMED" }};
  $('.floating-input input, .floating-input select').each(function() {
    if ($(this).val() !== '') $(this).parent().addClass('filled');
  });
  $('.floating-input input, .floating-input select').on('focus', function() {
    $(this).parent().addClass('filled');
  });
  $('.floating-input input').on('blur', function() {
    if ($(this).val() === '') $(this).parent().removeClass('filled');
  });
  $('.floating-input select').on('change', function() {
    $(this).val() === '' ? $(this).parent().removeClass('filled') : $(this).parent().addClass('filled');
  });
  function hideAllSections() {
    $("#pnrSection, #ticketDetails, #paymentSection, #otpSection, #successMessage").addClass("hidden");
  }function showSection(section) {
    hideAllSections();
    setTimeout(() => section.removeClass("hidden").addClass("slide-up"), 50);
  }$("#checkStatusBtn").click(function(){
    var pnr = $("#pnr").val().trim();
    $("#pnrErr").text("");
    $("#infoMessage").removeClass("hidden").addClass("text-purple-600").text("Checking ticket status...");
    if (pnr.length !== 4 || !/^\d+$/.test(pnr)){ 
      $("#pnrErr").text("PNR must be exactly 4 digits"); 
      $("#infoMessage").addClass("hidden"); 
      return; 
    } 
    setTimeout(() => {
      if (tickets[pnr]){
        $("#pname").text(tickets[pnr].name); 
        $("#from").text(tickets[pnr].from); 
        $("#to").text(tickets[pnr].to); 
        var status = tickets[pnr].status;
        $("#status").text(status);  
        if(status === "CONFIRMED") {
          $("#status").removeClass().addClass("text-green-500");
          $("#payBtn").prop("disabled", false).removeClass("bg-gray-400 text-gray-600 cursor-not-allowed").addClass("gradient-btn");
          $("#infoMessage").addClass("hidden");
        } else {
          $("#status").removeClass().addClass("text-red-500");
          $("#payBtn").prop("disabled", true).removeClass("gradient-btn").addClass("bg-gray-400 text-gray-600 cursor-not-allowed w-full py-3.5 px-4 rounded font-semibold text-lg");
          $("#infoMessage").removeClass("text-purple-600").addClass("text-red-500").text("Payment not available for this ticket status");
        }
        showSection($("#ticketDetails"));
      } else { 
        $("#pnrErr").text("PNR not found"); 
        $("#infoMessage").addClass("hidden"); 
      }
    }, 800);
  });$("#payBtn").click(function(){
    if($("#status").text().trim() === "CONFIRMED"){
      showSection($("#paymentSection"));
      $("#infoMessage").addClass("hidden");
    }
  });$("#paymentMethod").change(function(){
    var method = $(this).val();
    $("#methodErr").text("");
    $("#paymentFields").html("");
    $("#makePayment").addClass("hidden");
    var html = "";
    if(method === "cash") html = `<div class="floating-input"><input type="text" id="stationCode" placeholder=" " class="uppercase"><label>Station Code</label><p class="text-xs text-gray-500 mt-2">3-4 uppercase letters</p><p class="text-sm text-red-500 mt-1" id="stationErr"></p></div>`;
    if(method === "upi") html = `<div class="floating-input"><input type="text" id="upiId" placeholder=" "><label>UPI ID</label><p class="text-xs text-gray-500 mt-2">Format: name@bank</p><p class="text-sm text-red-500 mt-1" id="upiErr"></p></div><div class="floating-input"><input type="text" id="upiConfirm" placeholder=" "><label>Confirm UPI ID</label><p class="text-xs text-gray-500 mt-2">Must match the UPI ID above</p><p class="text-sm text-red-500 mt-1" id="upiConfirmErr"></p></div>`;
    if(method === "card") html = `<div class="floating-input"><input type="text" id="cardNo" placeholder=" " maxlength="16"><label>Card Number</label><p class="text-xs text-gray-500 mt-2">16-digit card number</p><p class="text-sm text-red-500 mt-1" id="cardErr"></p></div><div class="grid grid-cols-2 gap-4"><div class="floating-input"><input type="text" id="expiry" placeholder=" " maxlength="5"><label>Expiry (MM/YY)</label><p class="text-xs text-gray-500 mt-2">MM/YY format</p><p class="text-sm text-red-500 mt-1" id="expErr"></p></div><div class="floating-input"><input type="password" id="cvv" placeholder=" " maxlength="3"><label>CVV</label><p class="text-xs text-gray-500 mt-2">3-digit CVV</p><p class="text-sm text-red-500 mt-1" id="cvvErr"></p></div></div>`;
    if(method === "bank") html = `<div class="floating-input"><input type="text" id="accNo" placeholder=" " maxlength="12"><label>Account Number</label><p class="text-xs text-gray-500 mt-2">9-12 digits account number</p><p class="text-sm text-red-500 mt-1" id="accErr"></p></div><div class="floating-input"><input type="text" id="accConfirm" placeholder=" " maxlength="12"><label>Re-enter Account Number</label><p class="text-xs text-gray-500 mt-2">Must match above</p><p class="text-sm text-red-500 mt-1" id="accConfirmErr"></p></div><div class="floating-input"><input type="text" id="ifsc" placeholder=" " class="uppercase" maxlength="11"><label>IFSC Code</label><p class="text-xs text-gray-500 mt-2">Bank branch IFSC</p><p class="text-sm text-red-500 mt-1" id="ifscErr"></p></div>`; 
    $("#paymentFields").html(html);
    $('#paymentFields .floating-input input').each(function() {
      $(this).on('focus', function() { $(this).parent().addClass('filled'); });
      $(this).on('blur', function() { if ($(this).val() === '') $(this).parent().removeClass('filled'); });
    });
    setTimeout(() => $("#makePayment").removeClass("hidden").addClass("slide-up"), 100);
  });$("#makePayment").click(function(){
    var method = $("#paymentMethod").val();
    $("#methodErr").text("");
    if(method === ""){ $("#methodErr").text("Please choose a payment method"); return; }
    if(method === "cash"){ 
      var code = $("#stationCode").val().trim(); 
      $("#stationErr").text(""); 
      if(!/^[A-Z]{3,4}$/.test(code)){ $("#stationErr").text("Station code must be 3-4 uppercase letters"); return; } 
      finishPayment(); 
    }if(method === "upi"){ 
      var upi = $("#upiId").val().trim(), confirm = $("#upiConfirm").val().trim(); 
      $("#upiErr").text(""); $("#upiConfirmErr").text(""); 
      if(!/^[a-zA-Z0-9.\-_]+@[a-zA-Z]{3,}$/.test(upi)){ $("#upiErr").text("Invalid UPI format"); return; } 
      if(upi !== confirm){ $("#upiConfirmErr").text("UPI IDs do not match"); return; } 
      finishPayment(); 
    }if(method === "card"){ 
      var num = $("#cardNo").val().trim(), exp = $("#expiry").val().trim(), cvv = $("#cvv").val().trim(); 
      $("#cardErr").text(""); $("#expErr").text(""); $("#cvvErr").text(""); 
      if(!/^\d{16}$/.test(num)){ $("#cardErr").text("Card number must be 16 digits"); return; } 
      if(!/^(0[1-9]|1[0-2])\/\d{2}$/.test(exp)){ $("#expErr").text("Expiry must be MM/YY"); return; } 
      if(!/^\d{3}$/.test(cvv)){ $("#cvvErr").text("CVV must be 3 digits"); return; } 
      showSection($("#otpSection"));
    }if(method === "bank"){ 
      var acc = $("#accNo").val().trim(), acc2 = $("#accConfirm").val().trim(), ifsc = $("#ifsc").val().trim(); 
      $("#accErr").text(""); $("#accConfirmErr").text(""); $("#ifscErr").text(""); 
      if(!/^\d{9,12}$/.test(acc)){ $("#accErr").text("Account number must be 9-12 digits"); return; } 
      if(acc !== acc2){ $("#accConfirmErr").text("Account numbers do not match"); return; } 
      if(!/^[A-Z]{4}0[A-Z0-9]{6}$/.test(ifsc)){ $("#ifscErr").text("Invalid IFSC code format"); return; } 
      finishPayment(); 
    }
  });$("#verifyOtp").click(function(){ 
    var otp = $("#otp").val().trim(); 
    $("#otpErr").text(""); 
    if(!/^\d{6}$/.test(otp)){ $("#otpErr").text("OTP must be 6 digits"); return; } 
    finishPayment(); 
  });
  function finishPayment(){ showSection($("#successMessage")); }
});
</script>
</body>
</html>
